#!/bin/bash
#
# User-specific environments
# for bash users
#
# To save system resources and make your jobs run faster,
# if you have aliases, environment setups, etc. that you
# ONLY need when you are logged in, and NOT when you are
# running batch jobs, put them into the if statement below
#
# Reservoir Engineers who want to add module use/load commands
# for Nexus/TDRM environments should make sure they are within this if block below
#
TTY=`tty|awk -F/ '{print $2}'`
if [ "$TTY" = "dev" ] ; then
    export PATH=~/.local/bin:$PATH
    PS1=$'[\\u@\\h \\W]\\$ '; export PS1

    __main() {
        local major="${BASH_VERSINFO[0]}"
        local minor="${BASH_VERSINFO[1]}"

        if ((major > 4)) || { ((major == 4)) && ((minor >= 1)); }; then
            source <(~/.bin/starship init bash --print-full-init)
        else
            source /dev/stdin <<<"$(~/.bin/starship init bash --print-full-init)"
        fi
    }
    __main
    unset -f __main

    module load sge
fi

module load git conda sge
conda activate base

source ~/.profile

